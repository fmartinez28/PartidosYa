<div *ngIf="this.showingModal">
  <app-partido-modal [partidoid]="this.id" (closeModal)="this.toggleModal()"></app-partido-modal>
</div>
<div *ngIf="this.visible" [@fadeOut] id="card" [ngClass]="(this.playerLimit/2 > this.playerCount) ? 'border-lime-100':'border-orange-100'" class="rounded p-4 shadow-md bg-slate-50 border  flex flex-row lg:flex-col items-center justify-center gap-10">
  <div id="cardheader" class="flex flex-row lg:flex-col place-items-center gap-2">
    <div id="cardmainheader" [ngClass]="((this.playerLimit/2 > this.playerCount) ? 'text-lime-500' : 'text-orange-500')" class="text-center rounded-2xl outline p-2">
      <p>{{this.playerCount}}/{{this.playerLimit}}</p>
      <p class="font-mono text-xs">
        Jugadores
      </p>
    </div>
    <div id="delete" class="flex flex-col place-items-center justify-center">
      <button class="outline outline-red-300 rounded-2xl outline-2 p-2 m-2" (click)="this.deletePartido()"><i class="fa-regular fa-trash-can text-red-400"></i></button>
    </div>
  </div>
  <div id="cardbody" class="flex flex-col items-start font-mono">
    <div class="flex flex-row justify-center items-center gap-2">
      <i class="fa-regular fa-calendar"></i>
      <p>
        {{this.timestamptz | date:'dd/MM/yyyy'}}
      </p>
    </div>
    <div class="flex flex-row justify-center items-center gap-2">
      <i class="fa-regular fa-clock"></i>
      <p>
        {{this.timestamptz | date:'HH:mm'}}
      </p>
    </div>
    <div class="flex flex-row justify-center items-center gap-2">
      <p *ngIf="!aprobado">
        <i class="fa-regular fa-handshake"></i>
        Pendiente de aprobaci√≥n...
      </p>
    </div>
    <!--

      <div class="flex flex-row justify-center items-center gap-2">
        <i class="fa-regular fa-user"></i>
        <p>
          {{this.community}}
        </p>
      </div>
      <div class="flex flex-row justify-center items-center gap-2">
        <i class="fa-regular fa-building"></i>
        <p>
          {{this.pitch}}
        </p>
      </div>
    -->
  </div>
  <div id="cardfooter" class="flex flex-row justify-center">
    <button (click)="this.toggleModal()" class="bg-slate-400 hover:bg-slate-600 text-white font-bold py-2 px-4 rounded rounded-r-none">Detalles</button>
    <button [ngClass]="(!this.playerHasJoined) ? 'bg-blue-500 hover:bg-blue-700 border-blue-700' : 'bg-red-500 hover:bg-red-700 border-red-700'" (click)="this.playerHasJoined ? this.leavePartido() : this.joinPartido()" class="rounded-l-none text-white font-bold py-2 px-4 rounded">{{(this.playerHasJoined) ? 'Abandonar' : 'Unirse'}}</button>
  </div>
</div>
