<header class="text-center p-4 mb-8 mt-20">
  <h1 class="text-5xl font-bold font-serif text-gray-600">{{title}}</h1>
</header>

<div class="container mx-auto">
  <div class="flex items-center justify-center m-8">
    <div class="lg:w-3/4 w-full">
      <form [formGroup]="signupForm" (ngSubmit)="onSignup()" class="bg-gray-100 grid gap-y-4 rounded p-10 shadow-md">
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="name" class="font-semibold text-gray-500">Nombre <span class="text-red-500">* </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="name" name="name" type="text" placeholder="Mario"
              required>
            <div *ngIf="signupForm.get('name')?.touched && signupForm.get('name')?.errors?.['required']"
              class="text-red-500">
              El nombre es obligatorio.
            </div>
            <div *ngIf="signupForm.get('name')?.touched && signupForm.get('name')?.errors?.['minlength']"
              class="text-red-500">
              El nombre debe tener por lo menos 2 caracteres.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="lastname" class="font-semibold text-gray-500">Apellido <span class="text-red-500">*
              </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="lastname" name="lastname" type="text" placeholder="Mario" required minlength="2">
            <div *ngIf="signupForm.get('lastname')?.touched && signupForm.get('lastname')?.errors?.['required']"
              class="text-red-500">
              El apellido es obligatorio.
            </div>
            <div *ngIf="signupForm.get('lastname')?.touched && signupForm.get('lastname')?.errors?.['minlength']" class="text-red-500">
              El apellido debe tener por lo menos 2 caracteres.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="birthdate" class="font-semibold text-gray-500">Fecha de nacimiento <span class="text-red-500">*
              </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="birthdate" name="birthdate" type="date"
              placeholder="Mario" required>
            <div *ngIf="signupForm.get('birthdate')?.touched && signupForm.get('birthdate')?.errors?.['required']"
              class="text-red-500">
              La fecha de nacimiento es obligatoria.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="email" class="font-semibold text-gray-500">Email <span class="text-red-500">* </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="email" name="email" type="email"
              placeholder="mario_mario@hotmail.com" required>
            <div *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.errors?.['required']"
              class="text-red-500">
              El mail es obligatorio.
            </div>
            <div *ngIf="signupForm.get('email')?.touched && signupForm.get('email')?.errors?.['email']"
              class="text-red-500">
              El formato del mail es incorrecto. Ejemplo: 'alguien&#64;example.com'
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="username" class="font-semibold text-gray-500">Nombre de usuario <span class="text-red-500">* </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="username" name="username" type="text"
              placeholder="mario_mario@hotmail.com" required>
            <div *ngIf="signupForm.get('username')?.touched && signupForm.get('username')?.errors?.['required']"
              class="text-red-500">
              El nombre de usuario es obligatorio.
            </div>
            <div *ngIf="signupForm.get('username')?.touched && signupForm.get('username')?.errors?.['minlength']"
              class="text-red-500">
              El nombre de usuario debe tener por lo menos 5 caracteres.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="password" class="font-semibold text-gray-500">Contraseña <span class="text-red-500">*
              </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="password" name="password" type="password"
              placeholder="********NOTMARIO" required>
            <div *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.errors?.['required']"
              class="text-red-500">
              La contraseña es obligatoria.
            </div>
            <div *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.errors?.['minlength']"
              class="text-red-500">
              La contraseña debe tener por lo menos 8 caracteres.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="role" class="font-semibold text-gray-500">Rol <span class="text-red-500">* </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <select class="p-2 w-full rounded" formControlName="role" name="role" placeholder="Calle 123" required>
              <option value="Jugador">Jugador</option>
              <option value="Propietario">Propietario</option>
            </select>
            <div *ngIf="signupForm.get('role')?.touched && signupForm.get('role')?.errors?.['required']"
              class="text-red-500">
              El rol es obligatorio.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="country" class="font-semibold text-gray-500">País <span class="text-red-500">*
              </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="country" name="country" type="text" placeholder="Uruguay"
              required>
            <div *ngIf="signupForm.get('country')?.touched && signupForm.get('country')?.errors?.['required']"
              class="text-red-500">
              El país es obligatorio.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="department" class="font-semibold text-gray-500">Departamento <span class="text-red-500">*
              </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="department" name="department" type="text"
              placeholder="Salto" required>
            <div *ngIf="signupForm.get('department')?.touched && signupForm.get('department')?.errors?.['required']"
              class="text-red-500">
              El departamento es obligatorio.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center">
          <div class="col-span-4 sm:col-span-1">
            <label for="city" class="font-semibold text-gray-500">Ciudad <span class="text-red-500">*
              </span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="city" name="city" type="text" placeholder="Salto"
              required>
            <div *ngIf="signupForm.get('city')?.touched && signupForm.get('city')?.errors?.['required']"
              class="text-red-500">
              La ciudad es obligatoria.
            </div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 items-center" *ngIf="signupForm.get('role')?.value === 'Propietario'">
          <div class="col-span-4 sm:col-span-1">
            <label for="address" class="font-semibold text-gray-500">Dirección <span
                class="text-red-500">*</span></label>
          </div>
          <div class="col-span-4 sm:col-span-3">
            <input class="p-2 w-full rounded" formControlName="address" name="address" type="text"
              placeholder="Calle 123" [required]="signupForm.get('role')?.value === 'Propietario'">
            <div *ngIf="signupForm.get('address')?.touched && signupForm.get('address')?.errors?.['required']"
              class="text-red-500">
              La dirección es obligatoria.
            </div>
          </div>
        </div>
        <div class="flex flex-row justify-center m-2">
          <button class="p-4 bg-green-500 hover:bg-green-600 hover:shadow-md shadow rounded-md text-white"
            type="submit">Registrarse</button>
        </div>
      </form>
      <div class="col-span-2">
        <div class="map"></div>
      </div>
    </div>
  </div>
  <div
    class="hidden lg:flex lg:place-items-center lg:col-span-2 shadow border h-24 border-gray-50 bg-gray-100 rounded">
    <div class="p-4 text-center w-full">
      <span class="font-semibold text-gray-500">¿Ya tienes cuenta?</span>
      <span class="block"><a [routerLink]="'/session/login'" class="text-green-500 hover:cursor-pointer">Iniciar sesión</a></span>
    </div>
  </div>
</div>
